import{z as i,H as p,I as d,o as x,c as h,a as t,N as f,O as _,n as v,P as b,Q as g}from"./index.008630c2.js";import{a as y}from"./index.15c82977.js";const w={class:"container py-20 mx-auto"},S=t("h2",{class:"text-2xl font-bold text-center"},"Request For Access",-1),I=["onSubmit"],N={class:"space-y-2 form-control"},B=t("label",{for:"ttrx",class:""},"Web Access Code",-1),O=t("p",{class:"text-sm"},null,-1),P={class:"text-center"},A={setup(R){const s=i(""),o=i(!1),l=p(),{setUser:u}=d(),m=()=>{o.value=!0;let c="https://shop.aparsclassroom.com/query/";var a=new URLSearchParams;a.append("tran_id",s.value);var r={method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:a,redirect:"follow"};fetch(c+"transaction",r).then(e=>e.json()).then(e=>{e.status==200&&e.tranx.status=="VALID"&&e.tranx.ProductName=="FRB23"?(u({name:e.tranx.Name,ttrx:e.tranx.tran_id,college:e.tranx.Institution}),localStorage.setItem("frb23exam",JSON.stringify({name:e.tranx.Name,ttrx:e.tranx.tran_id,college:e.tranx.Institution})),l.push("/")):y.get(`${g}${s.value}`).then(n=>{n.data.status=="success"?l.push("/register?ttrx="+s.value):alert(n.data.message),o.value=!1}).catch(n=>{alert("Something Went Wrong"),o.value=!1})}).catch(e=>alert("Invalid Group Joining ID"))};return(c,a)=>(x(),h("div",w,[S,t("form",{onSubmit:b(m,["prevent"]),class:"max-w-2xl mx-auto space-y-2"},[t("div",N,[B,O,f(t("input",{type:"text",placeholder:"e.g. 3728rtiudwhiwyu898yi","onUpdate:modelValue":a[0]||(a[0]=r=>s.value=r),class:"input input-bordered"},null,512),[[_,s.value]])]),t("div",P,[t("button",{type:"submit",class:v(["btn btn-primary",{loading:o.value}])},"Submit",2)])],40,I)]))}};export{A as default};

import{o as t,c as o,a as s,t as u,G as W,z as v,s as X,f as B,w as T,d as y,e as h,i as l,H as Z,u as q,I as ee,r as te,g as C,F as L,b as O,n as b,J as se,K as oe,L as re}from"./index.008630c2.js";import{_ as G}from"./plugin-vue_export-helper.21dcd24c.js";import{Q as V,a as ne,G as ae,Y as le,u as ie,_ as ce}from"./Alert.7f40200d.js";var de="/frb23exam/assets/examloading.fe2c6f06.gif";const ue={props:{end_time:{type:Number,required:!0}},data(){return{minute:0,second:0}},mounted(){this.startTimer()},methods:{startTimer(){let i=new Date(this.end_time).getTime(),g=setInterval(()=>{let p=new Date().getTime(),r=i-p,_=Math.floor(r%(1e3*60*60)/(1e3*60)),f=Math.floor(r%(1e3*60)/1e3);this.minute=_,this.second=f,r<0&&clearInterval(g)},1e3)},stopTimer(){clearInterval(this.interval)}}},me={class:"text-2xl btn"};function _e(i,g,p,r,_,f){return t(),o("div",null,[s("div",me,u(_.minute)+" : "+u(_.second),1)])}var be=G(ue,[["render",_e]]),ve="/frb23exam/assets/retake.3235226f.gif",he="/frb23exam/assets/submit.38475667.png";const R=W("result",()=>{const i=v({type:"",score:0,show:!1});return{result:i,showResult:(r,_)=>{i.value.type=_,i.value.score=r,i.value.show=!0},closeModal:()=>{i.value.show=!1}}}),pe={class:"fixed inset-0 z-10 overflow-y-auto"},fe={class:"min-h-screen px-4 text-center bg-[rgba(0,0,0,0.6)]"},ge=s("span",{class:"inline-block h-screen align-middle","aria-hidden":"true"}," \u200B ",-1),xe={class:"inline-block w-full max-w-md p-6 my-8 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-2xl"},ye={class:"mt-2"},ke={key:0,src:ve,class:"mx-auto h-36",alt:""},we=s("img",{class:"mx-auto h-36",src:he,alt:""},null,-1),Te={class:"text-2xl font-semibold text-center"},$e={setup(i){const g=R(),{result:p}=X(g),r=()=>{g.closeModal()};return(_,f)=>(t(),B(h(le),{appear:"",show:h(p).show,as:"template"},{default:T(()=>[y(h(ae),{as:"div",onClose:r},{default:T(()=>[s("div",pe,[s("div",fe,[y(h(V),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:T(()=>[y(h(ne),{class:"fixed inset-0"})]),_:1}),ge,y(h(V),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:T(()=>[s("div",xe,[s("div",ye,[h(p).type=="retake"?(t(),o("img",ke)):l("",!0),we,s("p",Te," You scored "+u(h(p).score),1)]),s("div",{class:"mt-4 text-right"},[s("button",{type:"button",class:"inline-flex justify-center px-4 py-2 text-sm font-medium text-blue-900 bg-blue-100 border border-transparent rounded-md hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-blue-500",onClick:r}," Got it, thanks! ")])])]),_:1})])])]),_:1})]),_:1},8,["show"]))}};const Y=i=>(se("data-v-2cec418a"),i=i(),oe(),i),Me={key:0,class:"max-w-md p-5 mx-2 my-10 md:mx-auto"},Le={class:"py-3 text-center"},Ce={key:0,class:"my-4 text-2xl font-bold text-gray-900 ma-auto"},He={key:0},Se={key:1,class:"text-center text-gray-900"},Ne={class:"py-5"},Ie=C(" View Solution "),Ee=["textContent"],De=["textContent"],Qe={key:1,class:"container mx-auto"},je={key:0,class:"pb-10"},Ae={class:"py-4 text-center"},Oe=["innerHTML"],Ve=Y(()=>s("p",{class:"text-center"}," \u09AA\u09CD\u09B0\u09A4\u09BF\u099F\u09BF \u09AA\u09CD\u09B0\u09B6\u09CD\u09A8\u09C7\u09B0 \u0995\u09CD\u09B7\u09C7\u09A4\u09CD\u09B0\u09C7 \u09A4\u09C1\u09AE\u09BF \u0995\u09C7\u09AC\u09B2 \u098F\u0995\u09AC\u09BE\u09B0 \u0989\u09A4\u09CD\u09A4\u09B0 \u0995\u09B0\u09BE\u09B0 \u09B8\u09C1\u09AF\u09CB\u0997 \u09AA\u09BE\u09AC\u09C7\u0964 \u098F\u0995\u09AC\u09BE\u09B0 \u0989\u09A4\u09CD\u09A4\u09B0 \u09B8\u09BF\u09B2\u09C7\u0995\u09CD\u099F \u0995\u09B0\u09BE\u09B0 \u09AA\u09B0 \u09A4\u09BE \u09AA\u09B0\u09BF\u09AC\u09B0\u09CD\u09A4\u09A8 \u0995\u09B0\u09BE\u09B0 \u0995\u09CB\u09A8\u09CB \u09B8\u09C1\u09AF\u09CB\u0997 \u09A8\u09BE\u0987\u0964 ",-1)),Be={key:0,class:"mx-2 md:w-2/3 md:mx-auto"},Ge=["innerHTML"],Re={class:"flex gap-2"},Ye={class:"btn btn-sm"},ze=Y(()=>s("button",{class:"btn btn-sm"},"Marks: "+u(1),-1)),Fe={class:"mt-3"},Je=["innerHTML","onClick"],Ke=["innerHTML","onClick"],Pe=["innerHTML","onClick"],Ue=["innerHTML","onClick"],We={class:"mb-10 text-center"},Xe=["disabled"],Ze={key:1,class:"md:w-2/3 md:mx-auto"},qe=["innerHTML"],et={class:"flex gap-3"},tt={class:"btn btn-sm"},st={key:0,class:"btn btn-sm"},ot={class:"mt-3"},rt=["innerHTML"],nt=["innerHTML"],at=["innerHTML"],lt=["innerHTML"],it={key:0,class:"my-2 poppins"},ct=["innerHTML"],dt={class:"material-icons"},ut={key:0,class:"my-2 text-center"},mt={key:1,class:"fixed__timer"},_t={key:2,class:"flex flex-col items-center justify-center w-full h-screen"},bt=re('<img src="'+de+'" alt="" class="h-56" data-v-2cec418a><div class="flex items-center justify-center space-x-1 text-sm text-gray-700" data-v-2cec418a><svg fill="none" class="w-10 h-10 animate-spin" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg" data-v-2cec418a><path clip-rule="evenodd" d="M15.165 8.53a.5.5 0 01-.404.58A7 7 0 1023 16a.5.5 0 011 0 8 8 0 11-9.416-7.874.5.5 0 01.58.404z" fill="currentColor" fill-rule="evenodd" data-v-2cec418a></path></svg><div class="text-lg" data-v-2cec418a>Please wait ...</div></div>',2),vt=[bt],ht={setup(i){const{upcomingAlert:g}=ie(),{showResult:p}=R(),r=v([]),_=v(!0),f=v(!1),x=v(!0),H=v(!1),E=v(Date.now()),D=v(!1),k=v(null),Q=Z(),w=v(!1),z=n=>{var d=Math.floor(n/6e4),a=(n%6e4/1e3).toFixed(0);return d+":"+(a<10?"0":"")+a},{getExam:F}=q(),c=F();c.is_upcoming&&Q.replace("/");let $="https://script.google.com/macros/s/AKfycbyk1GskHMYpHLy4zfDXqDw7UHoHC2VBEpauNKxTpuyvuO1EODEML62_lFkmqYGcOwefyA/exec?sheet="+c.exam.substr(39,44);const J=()=>{x.value=!0,fetch($+"&type=question").then(n=>n.json()).then(n=>{r.value=n,w.value=!0,_.value=!0,N.value=Date.now()+c.time*6e4,setTimeout(()=>{S()},c.time*6e4),x.value=!1})},M=(n,d)=>{r.value[n].selected=d},{user:K}=ee(),{name:P,ttrx:j,college:U}=K,S=()=>{f.value=!0;let n=r.value.reduce((a,e)=>(e.correct==e.selected&&(a+=1),a),0),d=r.value.map(a=>{let m=[a.a,a.b,a.c,a.d].indexOf(a.selected);return{id:a.id,s:m}}).filter(a=>a.s>-1);w.value?(p(n,"retake"),w.value=!1):(fetch($,{method:"POST",mode:"no-cors",cache:"no-cache",redirect:"follow",body:JSON.stringify({roll:j,name:P,attempt:localStorage.getItem(`frbattempt${c.id}`)||1,score:n,college:U,duration:z(Date.now()-E.value),submission:JSON.stringify(d)})}).then(()=>{p(n,"submit"),localStorage.removeItem(`frbattempt${c.id}`)}),H.value=!0),f.value=!1,_.value=!1},N=v(null);(()=>{x.value=!0,fetch($+"&type=check&phone="+j).then(n=>n.json()).then(n=>{n.message=="exists"||c.is_ended?(D.value=!0,k.value=n.result?n.result:["","Time's up"],x.value=!1):fetch($+"&type=question").then(d=>d.json()).then(d=>{r.value=d;let a=c.time;N.value=Date.now()+a*6e4;let e=localStorage.getItem(`frbattempt${c.id}`);e?localStorage.setItem(`frbattempt${c.id}`,Number(e)+1):localStorage.setItem(`frbattempt${c.id}`,1),E.value=Date.now(),setTimeout(()=>{S()},a*6e4),x.value=!1})})})();const A=()=>{Q.replace("/ranking/"+c.id)};return(n,d)=>{const a=te("router-link");return t(),o(L,null,[!x.value&&D.value&&!w.value?(t(),o("div",Me,[s("div",Le,[k.value[1]?(t(),o("h2",Ce,[k.value[1]!=="Time's up"?(t(),o("span",He,"You Scored:")):l("",!0),C(" "+u(k.value[1]),1)])):l("",!0),k.value[1]=="Time's up"?(t(),o("p",Se,"But you can still give the exam. Click 'Test yourself again'.")):l("",!0),s("div",null,[s("button",{onClick:A,class:"btn btn-large btn-primary"}," Leaderboard ")]),s("div",Ne,[h(c).is_ended?(t(),B(a,{key:0,to:`/solution/${this.$route.params.id}`,class:"my-2 btn btn-primary"},{default:T(()=>[Ie]),_:1},8,["to"])):(t(),o("button",{key:1,class:"btn btn-primary",onClick:d[0]||(d[0]=e=>h(g)("MCQ Solve","Ends")),textContent:u("View Solution")},null,8,Ee))]),s("div",null,[s("button",{class:"btn btn-primary",onClick:J,textContent:u("Practice Now")},null,8,De)])])])):!x.value||w.value?(t(),o("div",Qe,[r.value.length>0?(t(),o("div",je,[s("div",Ae,[s("h1",{class:"text-2xl font-bold text-gray-900",innerHTML:h(c).topic},null,8,Oe),Ve]),H.value?(t(),o("div",Ze,[(t(!0),o(L,null,O(r.value,(e,m)=>(t(),o("div",{key:m,class:"p-5 mx-auto my-3 text-lg bg-white border border-gray-300 rounded-md shadow-lg kalpurush"},[s("div",{class:"inline-flex mb-2 text-lg font-semibold",innerHTML:e.question},null,8,qe),s("div",et,[s("span",tt,"Q No. "+u(m+1),1),e.subject?(t(),o("span",st,u(e.subject),1)):l("",!0)]),s("div",ot,[e.a?(t(),o("div",{key:0,innerHTML:e.a,class:b(`cursor-pointer transform hover:scale-105 transition duration-150 hover:font-semibold text-black  my-3 p-3 rounded   ${e.a==e.selected&&e.selected!=e.correct?"border-2 border-red-500 bg-red-300":" bg-white border"} ${e.a==e.correct?"border-2 border-green-500 ":" bg-white border"}`)},null,10,rt)):l("",!0),e.b?(t(),o("div",{key:1,innerHTML:e.b,class:b(`cursor-pointer transform hover:scale-105 transition duration-150 hover:font-semibold  my-3 p-3 rounded  ${e.b==e.selected&&e.selected!=e.correct?"border-2 border-red-500 bg-red-300":" bg-white "} ${e.b==e.correct?"border-2 border-green-500 ":" bg-white border"}`)},null,10,nt)):l("",!0),e.c?(t(),o("div",{key:2,innerHTML:e.c,class:b(`cursor-pointer transform hover:scale-105 transition duration-150 hover:font-semibold  my-3 p-3 rounded  ${e.c==e.selected&&e.selected!=e.correct?"border-2 border-red-500 bg-red-300":" bg-white "} ${e.c==e.correct?"border-2 border-green-500 ":" bg-white border"}`)},null,10,at)):l("",!0),e.d?(t(),o("div",{key:3,innerHTML:e.d,class:b(`cursor-pointer transform hover:scale-105 transition duration-150 hover:font-semibold  my-3 p-3 rounded   ${e.d==e.selected&&e.selected!=e.correct?"border-2 border-red-500 bg-red-300":" bg-white border"} ${e.d==e.correct?"border-2 border-green-500 ":" bg-white "}`)},null,10,lt)):l("",!0)]),e.explain?(t(),o("h2",it,"Explain:")):l("",!0),e.explain?(t(),o("div",{key:1,class:"p-3 my-3 bg-white border border-green-500 rounded",innerHTML:e.explain},null,8,ct)):l("",!0),s("div",{class:b(["flex gap-2 my-2 text-xl font-semibold",{"text-red-500":e.correct!=e.selected,"text-green-500":e.correct==e.selected}])},[s("span",dt,u(e.correct==e.selected?"done":"close"),1),e.selected?(t(),o(L,{key:0},[C(u(e.correct==e.selected?"Correct":"Wrong"),1)],64)):l("",!0),C(" "+u(e.selected?"":"Not answered"),1)],2)]))),128)),H.value?(t(),o("div",ut,[s("button",{onClick:A,class:"btn btn-large bg-primary btn-primary"}," Leaderboard ")])):l("",!0)])):(t(),o("div",Be,[(t(!0),o(L,null,O(r.value,(e,m)=>(t(),o("div",{key:m,class:b(["p-5 mx-auto my-3 text-lg bg-white border border-gray-300 rounded-md shadow-lg kalpurush",{"stop-events":r.value[m].selected}])},[s("div",{class:"mb-2 text-lg font-semibold text-gray-900",innerHTML:e.question},null,8,Ge),s("div",Re,[s("button",Ye,"Q No: "+u(m+1),1),ze]),s("div",Fe,[e.a?(t(),o("div",{key:0,innerHTML:e.a,onClick:I=>M(m,e.a),class:b(`cursor-pointer  transform hover:scale-105  transition duration-150 hover:font-semibold text-gray-900  my-3 p-3 rounded  ${e.a==e.selected?"border-2 border-green-500":" bg-white border "}`)},null,10,Je)):l("",!0),e.b?(t(),o("div",{key:1,innerHTML:e.b,onClick:I=>M(m,e.b),class:b(`cursor-pointer  transform hover:scale-105  transition duration-150 hover:font-semibold text-gray-900  my-3 p-3 rounded  ${e.b==e.selected?"border-2 border-green-500":" bg-white border "}`)},null,10,Ke)):l("",!0),e.c?(t(),o("div",{key:2,innerHTML:e.c,onClick:I=>M(m,e.c),class:b(`cursor-pointer  transform hover:scale-105  transition duration-150 hover:font-semibold text-gray-900  my-3 p-3 rounded  ${e.c==e.selected?"border-2 border-green-500":" bg-white border "}`)},null,10,Pe)):l("",!0),e.d?(t(),o("div",{key:3,innerHTML:e.d,onClick:I=>M(m,e.d),class:b(`cursor-pointer  transform hover:scale-105  transition duration-150 hover:font-semibold text-gray-900  my-3 p-3 rounded  ${e.d==e.selected?"border-2 border-green-500":" bg-white border "}`)},null,10,Ue)):l("",!0)])],2))),128)),s("div",We,[s("button",{onClick:d[1]||(d[1]=e=>S()),disabled:f.value,class:b(["btn btn-success",{loading:f.value}])},u(f.value?"Loading...":"Submit"),11,Xe)])]))])):l("",!0),_.value?(t(),o("div",mt,[y(be,{end_time:N.value},null,8,["end_time"])])):l("",!0)])):(t(),o("div",_t,vt)),y(ce),y($e)],64)}}};var yt=G(ht,[["__scopeId","data-v-2cec418a"]]);export{yt as default};

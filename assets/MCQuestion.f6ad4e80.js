var ee=Object.defineProperty,te=Object.defineProperties;var se=Object.getOwnPropertyDescriptors;var B=Object.getOwnPropertySymbols;var oe=Object.prototype.hasOwnProperty,re=Object.prototype.propertyIsEnumerable;var R=(r,a,l)=>a in r?ee(r,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):r[a]=l,Y=(r,a)=>{for(var l in a||(a={}))oe.call(a,l)&&R(r,l,a[l]);if(B)for(var l of B(a))re.call(a,l)&&R(r,l,a[l]);return r},G=(r,a)=>te(r,se(a));import{Q as z,b as ne,G as ae,Y as le,u as ie,_ as ce,a as de}from"./Alert.15d54efb.js";import{o as t,c as s,a as o,t as _,H as ue,A as f,s as me,f as J,w as $,d as x,e as v,I as _e,u as be,J as ve,r as pe,i as u,g as C,F as L,b as F,n as h,K as he,L as fe,j as ge}from"./index.e8c2d380.js";import{_ as K}from"./plugin-vue_export-helper.21dcd24c.js";const ye={props:{end_time:{type:Number,required:!0}},data(){return{minute:0,second:0}},mounted(){this.startTimer()},methods:{startTimer(){let r=new Date(this.end_time).getTime(),a=setInterval(()=>{let l=new Date().getTime(),i=r-l,p=Math.floor(i%(1e3*60*60)/(1e3*60)),g=Math.floor(i%(1e3*60)/1e3);this.minute=p,this.second=g,i<0&&clearInterval(a)},1e3)},stopTimer(){clearInterval(this.interval)}}},xe={class:"text-2xl btn"};function ke(r,a,l,i,p,g){return t(),s("div",null,[o("div",xe,_(p.minute)+" : "+_(p.second),1)])}var we=K(ye,[["render",ke]]),Te="/frb23exam/assets/retake.3235226f.gif",$e="/frb23exam/assets/submit.38475667.png";const P=ue("result",()=>{const r=f({type:"",score:0,show:!1});return{result:r,showResult:(i,p)=>{r.value.type=p,r.value.score=i,r.value.show=!0},closeModal:()=>{r.value.show=!1}}}),Me={class:"fixed inset-0 z-10 overflow-y-auto"},Le={class:"min-h-screen px-4 text-center bg-[rgba(0,0,0,0.6)]"},Ce=o("span",{class:"inline-block h-screen align-middle","aria-hidden":"true"}," \u200B ",-1),He={class:"inline-block w-full max-w-md p-6 my-8 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-2xl"},Se={class:"mt-2"},Ne={key:0,src:Te,class:"mx-auto h-36",alt:""},Ie={key:1,class:"mx-auto h-36",src:$e,alt:""},je={class:"text-2xl font-semibold text-center"},De={setup(r){const a=P(),{result:l}=me(a),i=()=>{a.closeModal()};return(p,g)=>(t(),J(v(le),{appear:"",show:v(l).show,as:"template"},{default:$(()=>[x(v(ae),{as:"div",onClose:i},{default:$(()=>[o("div",Me,[o("div",Le,[x(v(z),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:$(()=>[x(v(ne),{class:"fixed inset-0"})]),_:1}),Ce,x(v(z),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:$(()=>[o("div",He,[o("div",Se,[v(l).type=="retake"?(t(),s("img",Ne)):(t(),s("img",Ie)),o("p",je," You scored: "+_(v(l).score),1)]),o("div",{class:"mt-4 text-right"},[o("button",{type:"button",class:"inline-flex justify-center px-4 py-2 text-sm font-medium text-blue-900 bg-blue-100 border border-transparent rounded-md hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-blue-500",onClick:i}," Got it, thanks! ")])])]),_:1})])])]),_:1})]),_:1},8,["show"]))}};const U=r=>(he("data-v-4c460853"),r=r(),fe(),r),Ee={key:0,class:"max-w-md p-5 mx-2 my-10 md:mx-auto"},Ae={class:"py-3 text-center"},Oe={key:0,class:"my-4 text-2xl font-bold text-gray-900 ma-auto"},Qe={key:0},Ve={key:1,class:"text-center text-gray-900"},Be={class:"py-5"},Re=C(" View Solution "),Ye=["textContent"],Ge=["textContent"],ze={key:1,class:"container mx-auto"},Fe={key:0,class:"pb-10"},Je={class:"py-4 text-center"},Ke=["innerHTML"],Pe=U(()=>o("p",{class:"text-center"}," \u09AA\u09CD\u09B0\u09A4\u09BF\u099F\u09BF \u09AA\u09CD\u09B0\u09B6\u09CD\u09A8\u09C7\u09B0 \u0995\u09CD\u09B7\u09C7\u09A4\u09CD\u09B0\u09C7 \u09A4\u09C1\u09AE\u09BF \u0995\u09C7\u09AC\u09B2 \u098F\u0995\u09AC\u09BE\u09B0 \u0989\u09A4\u09CD\u09A4\u09B0 \u0995\u09B0\u09BE\u09B0 \u09B8\u09C1\u09AF\u09CB\u0997 \u09AA\u09BE\u09AC\u09C7\u0964 \u098F\u0995\u09AC\u09BE\u09B0 \u0989\u09A4\u09CD\u09A4\u09B0 \u09B8\u09BF\u09B2\u09C7\u0995\u09CD\u099F \u0995\u09B0\u09BE\u09B0 \u09AA\u09B0 \u09A4\u09BE \u09AA\u09B0\u09BF\u09AC\u09B0\u09CD\u09A4\u09A8 \u0995\u09B0\u09BE\u09B0 \u0995\u09CB\u09A8\u09CB \u09B8\u09C1\u09AF\u09CB\u0997 \u09A8\u09BE\u0987\u0964 ",-1)),Ue={key:0,class:"mx-2 md:w-2/3 md:mx-auto"},We=["src"],Xe=["innerHTML"],Ze={class:"flex gap-2"},qe={class:"btn btn-sm"},et=U(()=>o("button",{class:"btn btn-sm"},"Marks: "+_(1),-1)),tt={class:"mt-3"},st=["innerHTML","onClick"],ot=["innerHTML","onClick"],rt=["innerHTML","onClick"],nt=["innerHTML","onClick"],at={class:"mb-10 text-center"},lt=["disabled"],it={key:1,class:"md:w-2/3 md:mx-auto"},ct=["src"],dt=["innerHTML"],ut={class:"flex gap-3"},mt={class:"btn btn-sm"},_t={key:0,class:"btn btn-sm"},bt={class:"mt-3"},vt=["innerHTML"],pt=["innerHTML"],ht=["innerHTML"],ft=["innerHTML"],gt={key:2,class:"my-2 poppins"},yt=["innerHTML"],xt={class:"material-icons"},kt={key:0,class:"my-2 text-center"},wt={key:1,class:"fixed__timer"},Tt={key:2,class:"flex flex-col items-center justify-center w-full h-screen"},$t=ge('<img src="'+de+'" alt="" class="h-56" data-v-4c460853><div class="flex items-center justify-center space-x-1 text-sm text-gray-700" data-v-4c460853><svg fill="none" class="w-10 h-10 animate-spin" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg" data-v-4c460853><path clip-rule="evenodd" d="M15.165 8.53a.5.5 0 01-.404.58A7 7 0 1023 16a.5.5 0 011 0 8 8 0 11-9.416-7.874.5.5 0 01.58.404z" fill="currentColor" fill-rule="evenodd" data-v-4c460853></path></svg><div class="text-lg" data-v-4c460853>Please wait ...</div></div>',2),Mt=[$t],Lt={setup(r){const{upcomingAlert:a}=ie(),{showResult:l}=P(),i=f([]),p=f(!0),g=f(!1),y=f(!0),H=f(!1),E=f(Date.now()),A=f(!1),k=f(null),S=_e(),w=f(!1),W=c=>{var m=Math.floor(c/6e4),n=(c%6e4/1e3).toFixed(0);return m+":"+(n<10?"0":"")+n},{getExam:X}=be(),d=X();(d.is_upcoming||!d)&&S.replace("/");let T="https://script.google.com/macros/s/AKfycbyk1GskHMYpHLy4zfDXqDw7UHoHC2VBEpauNKxTpuyvuO1EODEML62_lFkmqYGcOwefyA/exec?sheet="+d.exam.substr(39,44);const Z=()=>{y.value=!0,fetch(T+"&type=question").then(c=>c.json()).then(c=>{i.value=c,w.value=!0,p.value=!0,j.value=Date.now()+d.time*6e4,setTimeout(()=>{I()},d.time*6e4),y.value=!1})},M=(c,m)=>{i.value[c].selected=m},{user:q}=ve(),{name:O,ttrx:N,college:Q}=q;(!O||!N||!Q)&&S.replace("/register");const I=()=>{g.value=!0;let c=i.value.reduce((n,e)=>(e.correct==e.selected&&(n+=1),n),0),m=i.value.map(n=>{let b=[n.a,n.b,n.c,n.d].indexOf(n.selected);return{id:n.id,s:b}}).filter(n=>n.s>-1);if(w.value)l(c,"retake"),w.value=!1;else{const n={roll:N,name:O,attempt:localStorage.getItem(`frbattempt${d.id}`)||1,score:c,college:Q,duration:W(Date.now()-E.value),submission:JSON.stringify(m)};localStorage.setItem(`frbexam_${d.id}`,JSON.stringify(G(Y({},n),{reqUrl:T}))),fetch(T,{method:"POST",mode:"no-cors",cache:"no-cache",redirect:"follow",body:JSON.stringify(n)}).then(()=>{l(c,"submit"),localStorage.removeItem(`frbattempt${d.id}`),localStorage.removeItem(`frbexam_${d.id}`)}),H.value=!0}g.value=!1,p.value=!1},j=f(null);(()=>{y.value=!0,fetch(T+"&type=check&phone="+N).then(c=>c.json()).then(c=>{c.message=="exists"||d.is_ended?(A.value=!0,k.value=c.result?c.result:["","Time's up"],y.value=!1):fetch(T+"&type=question").then(m=>m.json()).then(m=>{i.value=m;let n=d.time;j.value=Date.now()+n*6e4;let e=localStorage.getItem(`frbattempt${d.id}`);e?localStorage.setItem(`frbattempt${d.id}`,Number(e)+1):localStorage.setItem(`frbattempt${d.id}`,1),E.value=Date.now(),setTimeout(()=>{I()},n*6e4),y.value=!1})})})();const V=()=>{S.replace("/ranking/"+d.id)};return(c,m)=>{const n=pe("router-link");return t(),s(L,null,[!y.value&&A.value&&!w.value?(t(),s("div",Ee,[o("div",Ae,[k.value[1]?(t(),s("h2",Oe,[k.value[1]!=="Time's up"?(t(),s("span",Qe,"You Scored:")):u("",!0),C(" "+_(k.value[1]),1)])):u("",!0),k.value[1]=="Time's up"?(t(),s("p",Ve,"But you can still give the exam. Click 'Test yourself again'.")):u("",!0),o("div",null,[o("button",{onClick:V,class:"btn btn-large btn-primary"}," Leaderboard ")]),o("div",Be,[v(d).is_ended?(t(),J(n,{key:0,to:`/solution/${v(d).id}`,class:"my-2 btn btn-primary"},{default:$(()=>[Re]),_:1},8,["to"])):(t(),s("button",{key:1,class:"btn btn-primary",onClick:m[0]||(m[0]=e=>v(a)("MCQ Solve","Ends")),textContent:_("View Solution")},null,8,Ye))]),o("div",null,[o("button",{class:"btn btn-primary",onClick:Z,textContent:_("Practice Now")},null,8,Ge)])])])):!y.value||w.value?(t(),s("div",ze,[i.value.length>0?(t(),s("div",Fe,[o("div",Je,[o("h1",{class:"text-2xl font-bold text-gray-900",innerHTML:v(d).topic},null,8,Ke),Pe]),H.value?(t(),s("div",it,[(t(!0),s(L,null,F(i.value,(e,b)=>(t(),s("div",{key:b,class:"p-5 mx-auto my-3 text-lg bg-white border border-gray-300 rounded-md shadow-lg kalpurush"},[e.question.includes("drive.google.com")?(t(),s("img",{key:0,src:e.question.replace("https://drive.google.com/file/d/","https://drive.google.com/uc?export=download&id=").substr(0,80).replace("/vie",""),class:"object-contain w-full py-3",alt:""},null,8,ct)):(t(),s("div",{key:1,class:"mb-2 text-lg font-semibold text-gray-900",innerHTML:e.question},null,8,dt)),o("div",ut,[o("span",mt,"Q No. "+_(b+1),1),e.subject?(t(),s("span",_t,_(e.subject),1)):u("",!0)]),o("div",bt,[e.a?(t(),s("div",{key:0,innerHTML:e.a,class:h(`cursor-pointer transform hover:scale-105 transition duration-150 hover:font-semibold text-black  my-3 p-3 rounded   ${e.a==e.selected&&e.selected!=e.correct?"border-2 border-red-500 bg-red-300":" bg-white border"} ${e.a==e.correct?"border-2 border-green-500 ":" bg-white border"}`)},null,10,vt)):u("",!0),e.b?(t(),s("div",{key:1,innerHTML:e.b,class:h(`cursor-pointer transform hover:scale-105 transition duration-150 hover:font-semibold  my-3 p-3 rounded  ${e.b==e.selected&&e.selected!=e.correct?"border-2 border-red-500 bg-red-300":" bg-white "} ${e.b==e.correct?"border-2 border-green-500 ":" bg-white border"}`)},null,10,pt)):u("",!0),e.c?(t(),s("div",{key:2,innerHTML:e.c,class:h(`cursor-pointer transform hover:scale-105 transition duration-150 hover:font-semibold  my-3 p-3 rounded  ${e.c==e.selected&&e.selected!=e.correct?"border-2 border-red-500 bg-red-300":" bg-white "} ${e.c==e.correct?"border-2 border-green-500 ":" bg-white border"}`)},null,10,ht)):u("",!0),e.d?(t(),s("div",{key:3,innerHTML:e.d,class:h(`cursor-pointer transform hover:scale-105 transition duration-150 hover:font-semibold  my-3 p-3 rounded   ${e.d==e.selected&&e.selected!=e.correct?"border-2 border-red-500 bg-red-300":" bg-white border"} ${e.d==e.correct?"border-2 border-green-500 ":" bg-white "}`)},null,10,ft)):u("",!0)]),e.explain?(t(),s("h2",gt,"Explain:")):u("",!0),e.explain?(t(),s("div",{key:3,class:"p-3 my-3 bg-white border border-green-500 rounded",innerHTML:e.explain},null,8,yt)):u("",!0),o("div",{class:h(["flex gap-2 my-2 text-xl font-semibold",{"text-red-500":e.correct!=e.selected,"text-green-500":e.correct==e.selected}])},[o("span",xt,_(e.correct==e.selected?"done":"close"),1),e.selected?(t(),s(L,{key:0},[C(_(e.correct==e.selected?"Correct":"Wrong"),1)],64)):u("",!0),C(" "+_(e.selected?"":"Not answered"),1)],2)]))),128)),H.value?(t(),s("div",kt,[o("button",{onClick:V,class:"btn btn-large bg-primary btn-primary"}," Leaderboard ")])):u("",!0)])):(t(),s("div",Ue,[(t(!0),s(L,null,F(i.value,(e,b)=>(t(),s("div",{key:b,class:h(["p-5 mx-auto my-3 text-lg bg-white border border-gray-300 rounded-md shadow-lg kalpurush",{"stop-events":i.value[b].selected}])},[e.question.includes("drive.google.com")?(t(),s("img",{key:0,src:e.question.replace("https://drive.google.com/file/d/","https://drive.google.com/uc?export=download&id=").substr(0,80).replace("/vie",""),class:"object-contain w-full py-3",alt:""},null,8,We)):(t(),s("div",{key:1,class:"mb-2 text-lg font-semibold text-gray-900",innerHTML:e.question},null,8,Xe)),o("div",Ze,[o("button",qe,"Q No: "+_(b+1),1),et]),o("div",tt,[e.a?(t(),s("div",{key:0,innerHTML:e.a,onClick:D=>M(b,e.a),class:h(`cursor-pointer  transform hover:scale-105  transition duration-150 hover:font-semibold text-gray-900  my-3 p-3 rounded  ${e.a==e.selected?"border-2 border-green-500":" bg-white border "}`)},null,10,st)):u("",!0),e.b?(t(),s("div",{key:1,innerHTML:e.b,onClick:D=>M(b,e.b),class:h(`cursor-pointer  transform hover:scale-105  transition duration-150 hover:font-semibold text-gray-900  my-3 p-3 rounded  ${e.b==e.selected?"border-2 border-green-500":" bg-white border "}`)},null,10,ot)):u("",!0),e.c?(t(),s("div",{key:2,innerHTML:e.c,onClick:D=>M(b,e.c),class:h(`cursor-pointer  transform hover:scale-105  transition duration-150 hover:font-semibold text-gray-900  my-3 p-3 rounded  ${e.c==e.selected?"border-2 border-green-500":" bg-white border "}`)},null,10,rt)):u("",!0),e.d?(t(),s("div",{key:3,innerHTML:e.d,onClick:D=>M(b,e.d),class:h(`cursor-pointer  transform hover:scale-105  transition duration-150 hover:font-semibold text-gray-900  my-3 p-3 rounded  ${e.d==e.selected?"border-2 border-green-500":" bg-white border "}`)},null,10,nt)):u("",!0)])],2))),128)),o("div",at,[o("button",{onClick:m[1]||(m[1]=e=>I()),disabled:g.value,class:h(["btn btn-success",{loading:g.value}])},_(g.value?"Loading...":"Submit"),11,lt)])]))])):u("",!0),p.value?(t(),s("div",wt,[x(we,{end_time:j.value},null,8,["end_time"])])):u("",!0)])):(t(),s("div",Tt,Mt)),x(ce),x(De)],64)}}};var jt=K(Lt,[["__scopeId","data-v-4c460853"]]);export{jt as default};

var ee=Object.defineProperty,te=Object.defineProperties;var se=Object.getOwnPropertyDescriptors;var R=Object.getOwnPropertySymbols;var oe=Object.prototype.hasOwnProperty,re=Object.prototype.propertyIsEnumerable;var Y=(r,a,l)=>a in r?ee(r,a,{enumerable:!0,configurable:!0,writable:!0,value:l}):r[a]=l,G=(r,a)=>{for(var l in a||(a={}))oe.call(a,l)&&Y(r,l,a[l]);if(R)for(var l of R(a))re.call(a,l)&&Y(r,l,a[l]);return r},P=(r,a)=>te(r,se(a));import{_ as ne}from"./examloading.f66f2dcc.js";import{o as t,c as s,a as o,t as u,H as ae,A as _,s as le,f as J,w as k,d as x,e as g,I as ie,h as ce,J as de,r as ue,i as c,g as C,F as L,b as z,n as p,K as me,L as be,M as _e,j as ve}from"./index.5e3c9772.js";import{_ as K,Q as F,b as he,G as pe,Y as fe,u as ge,a as xe}from"./plugin-vue_export-helper.433caecf.js";const ye={props:{end_time:{type:Number,required:!0}},data(){return{minute:0,second:0}},mounted(){this.startTimer()},methods:{startTimer(){let r=new Date(this.end_time).getTime(),a=setInterval(()=>{let l=new Date().getTime(),i=r-l,v=Math.floor(i%(1e3*60*60)/(1e3*60)),f=Math.floor(i%(1e3*60)/1e3);this.minute=v,this.second=f,i<0&&clearInterval(a)},1e3)},stopTimer(){clearInterval(this.interval)}}},ke={class:"text-2xl btn"};function we(r,a,l,i,v,f){return t(),s("div",null,[o("div",ke,u(v.minute)+" : "+u(v.second),1)])}var Te=K(ye,[["render",we]]),Me="/frb23exam/assets/retake.3235226f.gif",$e="/frb23exam/assets/submit.38475667.png";const U=ae("result",()=>{const r=_({type:"",score:0,show:!1});return{result:r,showResult:(i,v)=>{r.value.type=v,r.value.score=i,r.value.show=!0},closeModal:()=>{r.value.show=!1}}}),Le={class:"fixed inset-0 z-10 overflow-y-auto"},Ce={class:"min-h-screen px-4 text-center bg-[rgba(0,0,0,0.6)]"},He=o("span",{class:"inline-block h-screen align-middle","aria-hidden":"true"}," \u200B ",-1),Se={class:"inline-block w-full max-w-md p-6 my-8 overflow-hidden text-left align-middle transition-all transform bg-white shadow-xl rounded-2xl"},Ne={class:"mt-2"},Ie={key:0,src:Me,class:"mx-auto h-36",alt:""},je={key:1,class:"mx-auto h-36",src:$e,alt:""},De={class:"text-2xl font-semibold text-center"},Ee={setup(r){const a=U(),{result:l}=le(a),i=()=>{a.closeModal()};return(v,f)=>(t(),J(g(fe),{appear:"",show:g(l).show,as:"template"},{default:k(()=>[x(g(pe),{as:"div",onClose:i},{default:k(()=>[o("div",Le,[o("div",Ce,[x(g(F),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0","enter-to":"opacity-100",leave:"duration-200 ease-in","leave-from":"opacity-100","leave-to":"opacity-0"},{default:k(()=>[x(g(he),{class:"fixed inset-0"})]),_:1}),He,x(g(F),{as:"template",enter:"duration-300 ease-out","enter-from":"opacity-0 scale-95","enter-to":"opacity-100 scale-100",leave:"duration-200 ease-in","leave-from":"opacity-100 scale-100","leave-to":"opacity-0 scale-95"},{default:k(()=>[o("div",Se,[o("div",Ne,[g(l).type=="retake"?(t(),s("img",Ie)):(t(),s("img",je)),o("p",De," You scored: "+u(g(l).score),1)]),o("div",{class:"mt-4 text-right"},[o("button",{type:"button",class:"inline-flex justify-center px-4 py-2 text-sm font-medium text-blue-900 bg-blue-100 border border-transparent rounded-md hover:bg-blue-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 focus-visible:ring-blue-500",onClick:i}," Got it, thanks! ")])])]),_:1})])])]),_:1})]),_:1},8,["show"]))}};const Ae=r=>(be("data-v-3bc81404"),r=r(),_e(),r),Oe={key:0,class:"max-w-md p-5 mx-2 my-10 md:mx-auto"},Ve={class:"py-3 text-center"},Be={key:0,class:"my-4 text-2xl font-bold text-gray-900 ma-auto"},Qe={key:0},Re={key:1,class:"text-center text-gray-900"},Ye={class:"py-5"},Ge=C(" View Solution "),Pe=["textContent"],ze=["textContent"],Fe={key:1,class:"container mx-auto"},Je={key:0,class:"pb-10"},Ke={class:"py-4 text-center"},Ue=["innerHTML"],We={key:0,class:"mx-2 md:w-2/3 md:mx-auto"},Xe=["src"],Ze=["innerHTML"],qe={class:"flex gap-2"},et={class:"btn btn-sm"},tt=Ae(()=>o("button",{class:"btn btn-sm"},"Marks: "+u(1),-1)),st={class:"mt-3"},ot=["innerHTML","onClick"],rt=["innerHTML","onClick"],nt=["innerHTML","onClick"],at=["innerHTML","onClick"],lt={class:"mb-10 text-center"},it=["disabled"],ct={key:1,class:"md:w-2/3 md:mx-auto"},dt=["src"],ut=["innerHTML"],mt={class:"flex gap-3"},bt={class:"btn btn-sm"},_t={key:0,class:"btn btn-sm"},vt={class:"mt-3"},ht=["innerHTML"],pt=["innerHTML"],ft=["innerHTML"],gt=["innerHTML"],xt={key:2,class:"my-2 poppins"},yt=["innerHTML"],kt={class:"material-icons"},wt={key:0,class:"my-2 text-center"},Tt={key:1,class:"fixed__timer"},Mt={key:2,class:"flex flex-col items-center justify-center w-full h-screen"},$t=ve('<img src="'+ne+'" alt="" class="h-56" data-v-3bc81404><div class="flex items-center justify-center space-x-1 text-sm text-gray-700" data-v-3bc81404><svg fill="none" class="w-10 h-10 animate-spin" viewBox="0 0 32 32" xmlns="http://www.w3.org/2000/svg" data-v-3bc81404><path clip-rule="evenodd" d="M15.165 8.53a.5.5 0 01-.404.58A7 7 0 1023 16a.5.5 0 011 0 8 8 0 11-9.416-7.874.5.5 0 01.58.404z" fill="currentColor" fill-rule="evenodd" data-v-3bc81404></path></svg><div class="text-lg" data-v-3bc81404>Please wait ...</div></div>',2),Lt=[$t],Ct={setup(r){const{upcomingAlert:a}=ge(),{showResult:l}=U(),i=_([]),v=_(!0),f=_(!1),w=_(!0),H=_(!1),W=_(Date.now()),X=_(!1),T=_(null),N=ie(),y=_(!1),Z=d=>{var h=Math.floor(d/6e4),n=(d%6e4/1e3).toFixed(0);return h+":"+(n<10?"0":"")+n},m=_();let M="";const I=()=>{w.value=!0,fetch(me+"?id="+j.params.id).then(d=>d.json()).then(d=>{m.value=d,M="https://script.google.com/macros/s/AKfycbyk1GskHMYpHLy4zfDXqDw7UHoHC2VBEpauNKxTpuyvuO1EODEML62_lFkmqYGcOwefyA/exec?sheet="+d.exam.substr(39,44),fetch(M+"&type=question").then(n=>n.json()).then(n=>{i.value=n,y.value=!0,v.value=!0,B.value=Date.now()+m.value.time*6e4,setTimeout(()=>{V()},m.value.time*6e4),w.value=!1})})},j=ce(),$=(d,h)=>{i.value[d].selected=h},{user:q}=de(),{name:D,ttrx:E,college:A}=q;(!D||!E||!A)&&N.replace("/register");const O=()=>{console.log("startPracticeExam"),m?I():setTimeout(()=>{O()},1e3)};j.query.p&&O();const V=()=>{f.value=!0;let d=i.value.reduce((n,e)=>(e.correct==e.selected&&(n+=1),n),0),h=i.value.map(n=>{let b=[n.a,n.b,n.c,n.d].indexOf(n.selected);return{id:n.id,s:b}}).filter(n=>n.s>-1);if(y.value)l(d,"retake"),y.value=!1;else{const n={roll:E,name:D,attempt:localStorage.getItem(`frbattempt${m.id}`)||1,score:d,college:A,duration:Z(Date.now()-W.value),submission:JSON.stringify(h)};localStorage.setItem(`frbexam_${m.id}`,JSON.stringify(P(G({},n),{reqUrl:M}))),fetch(M,{method:"POST",mode:"no-cors",cache:"no-cache",redirect:"follow",body:JSON.stringify(n)}).then(()=>{l(d,"submit"),localStorage.removeItem(`frbattempt${m.id}`),localStorage.removeItem(`frbexam_${m.id}`)}),H.value=!0}f.value=!1,v.value=!1},B=_(null),Q=()=>{N.replace("/ranking/"+m.id)};return(d,h)=>{const n=ue("router-link");return t(),s(L,null,[!w.value&&X.value&&!y.value?(t(),s("div",Oe,[o("div",Ve,[T.value[1]?(t(),s("h2",Be,[T.value[1]!=="Time's up"?(t(),s("span",Qe,"You Scored:")):c("",!0),C(" "+u(T.value[1]),1)])):c("",!0),T.value[1]=="Time's up"?(t(),s("p",Re,"But you can still give the exam. Click 'Test yourself again'.")):c("",!0),o("div",null,[o("button",{onClick:Q,class:"btn btn-large btn-primary"}," Leaderboard ")]),o("div",Ye,[m.value.is_ended?(t(),J(n,{key:0,to:`/solution/${m.value.id}`,class:"my-2 btn btn-primary"},{default:k(()=>[Ge]),_:1},8,["to"])):(t(),s("button",{key:1,class:"btn btn-primary",onClick:h[0]||(h[0]=e=>g(a)("MCQ Solve","Ends")),textContent:u("View Solution")},null,8,Pe))]),o("div",null,[o("button",{class:"btn btn-primary",onClick:I,textContent:u("Practice Now")},null,8,ze)])])])):!w.value||y.value?(t(),s("div",Fe,[i.value.length>0?(t(),s("div",Je,[o("div",Ke,[o("h1",{class:"text-2xl font-bold text-gray-900",innerHTML:m.value.topic},null,8,Ue)]),H.value?(t(),s("div",ct,[(t(!0),s(L,null,z(i.value,(e,b)=>(t(),s("div",{key:b,class:"p-5 mx-auto my-3 text-lg bg-white border border-gray-300 rounded-md shadow-lg kalpurush"},[e.question.includes("drive.google.com")?(t(),s("img",{key:0,src:e.question.replace("https://drive.google.com/file/d/","https://drive.google.com/uc?export=download&id=").substr(0,80).replace("/vie",""),class:"object-contain w-full py-3",alt:""},null,8,dt)):(t(),s("div",{key:1,class:"mb-2 text-lg font-semibold text-gray-900",innerHTML:e.question},null,8,ut)),o("div",mt,[o("span",bt,"Q No. "+u(b+1),1),e.subject?(t(),s("span",_t,u(e.subject),1)):c("",!0)]),o("div",vt,[e.a?(t(),s("div",{key:0,innerHTML:e.a,class:p(`cursor-pointer transform hover:scale-105 transition duration-150 hover:font-semibold text-black  my-3 p-3 rounded   ${e.a==e.selected&&e.selected!=e.correct?"border-2 border-red-500 bg-red-300":" bg-white border"} ${e.a==e.correct?"border-2 border-green-500 ":" bg-white border"}`)},null,10,ht)):c("",!0),e.b?(t(),s("div",{key:1,innerHTML:e.b,class:p(`cursor-pointer transform hover:scale-105 transition duration-150 hover:font-semibold  my-3 p-3 rounded  ${e.b==e.selected&&e.selected!=e.correct?"border-2 border-red-500 bg-red-300":" bg-white "} ${e.b==e.correct?"border-2 border-green-500 ":" bg-white border"}`)},null,10,pt)):c("",!0),e.c?(t(),s("div",{key:2,innerHTML:e.c,class:p(`cursor-pointer transform hover:scale-105 transition duration-150 hover:font-semibold  my-3 p-3 rounded  ${e.c==e.selected&&e.selected!=e.correct?"border-2 border-red-500 bg-red-300":" bg-white "} ${e.c==e.correct?"border-2 border-green-500 ":" bg-white border"}`)},null,10,ft)):c("",!0),e.d?(t(),s("div",{key:3,innerHTML:e.d,class:p(`cursor-pointer transform hover:scale-105 transition duration-150 hover:font-semibold  my-3 p-3 rounded   ${e.d==e.selected&&e.selected!=e.correct?"border-2 border-red-500 bg-red-300":" bg-white border"} ${e.d==e.correct?"border-2 border-green-500 ":" bg-white "}`)},null,10,gt)):c("",!0)]),e.explain?(t(),s("h2",xt,"Explain:")):c("",!0),e.explain?(t(),s("div",{key:3,class:"p-3 my-3 bg-white border border-green-500 rounded",innerHTML:e.explain},null,8,yt)):c("",!0),o("div",{class:p(["flex gap-2 my-2 text-xl font-semibold",{"text-red-500":e.correct!=e.selected,"text-green-500":e.correct==e.selected}])},[o("span",kt,u(e.correct==e.selected?"done":"close"),1),e.selected?(t(),s(L,{key:0},[C(u(e.correct==e.selected?"Correct":"Wrong"),1)],64)):c("",!0),C(" "+u(e.selected?"":"Not answered"),1)],2)]))),128)),H.value?(t(),s("div",wt,[o("button",{onClick:Q,class:"btn btn-large bg-primary btn-primary"}," Leaderboard ")])):c("",!0)])):(t(),s("div",We,[(t(!0),s(L,null,z(i.value,(e,b)=>(t(),s("div",{key:b,class:p(["p-5 mx-auto my-3 text-lg bg-white border border-gray-300 rounded-md shadow-lg kalpurush",{"stop-events":i.value[b].selected}])},[e.question.includes("drive.google.com")?(t(),s("img",{key:0,src:e.question.replace("https://drive.google.com/file/d/","https://drive.google.com/uc?export=download&id=").substr(0,80).replace("/vie",""),class:"object-contain w-full py-3",alt:""},null,8,Xe)):(t(),s("div",{key:1,class:"mb-2 text-lg font-semibold text-gray-900",innerHTML:e.question},null,8,Ze)),o("div",qe,[o("button",et,"Q No: "+u(b+1),1),tt]),o("div",st,[e.a?(t(),s("div",{key:0,innerHTML:e.a,onClick:S=>$(b,e.a),class:p(`cursor-pointer  transform hover:scale-105  transition duration-150 hover:font-semibold text-gray-900  my-3 p-3 rounded  ${e.a==e.selected?"border-2 border-green-500":" bg-white border "}`)},null,10,ot)):c("",!0),e.b?(t(),s("div",{key:1,innerHTML:e.b,onClick:S=>$(b,e.b),class:p(`cursor-pointer  transform hover:scale-105  transition duration-150 hover:font-semibold text-gray-900  my-3 p-3 rounded  ${e.b==e.selected?"border-2 border-green-500":" bg-white border "}`)},null,10,rt)):c("",!0),e.c?(t(),s("div",{key:2,innerHTML:e.c,onClick:S=>$(b,e.c),class:p(`cursor-pointer  transform hover:scale-105  transition duration-150 hover:font-semibold text-gray-900  my-3 p-3 rounded  ${e.c==e.selected?"border-2 border-green-500":" bg-white border "}`)},null,10,nt)):c("",!0),e.d?(t(),s("div",{key:3,innerHTML:e.d,onClick:S=>$(b,e.d),class:p(`cursor-pointer  transform hover:scale-105  transition duration-150 hover:font-semibold text-gray-900  my-3 p-3 rounded  ${e.d==e.selected?"border-2 border-green-500":" bg-white border "}`)},null,10,at)):c("",!0)])],2))),128)),o("div",lt,[o("button",{onClick:h[1]||(h[1]=e=>V()),disabled:f.value,class:p(["btn btn-success",{loading:f.value}])},u(f.value?"Loading...":"Submit"),11,it)])]))])):c("",!0),v.value?(t(),s("div",Tt,[x(Te,{end_time:B.value},null,8,["end_time"])])):c("",!0)])):(t(),s("div",Mt,Lt)),x(xe),x(Ee)],64)}}};var jt=K(Ct,[["__scopeId","data-v-3bc81404"]]);export{jt as default};
